{{>layout/header}}

        <div class="right_col" role="main">
          <div class="row">
            <div class="col-md-12">
              <div class="x_panel"> 
                <div class="x_title"> 
                  <h2>HOME > 데이터 분석 > 데이터 분석 결과 조회 > 데이터 분석 결과 상세 조회</h2>
                  <div class="clearfix"> </div>
                </div>
                <div class="x_content"> <br>
                  <div class="scenario_depth"> 
                    <ul>
                      <li class="now_depth" onclick="step1();" style="cursor:pointer">데이터 로딩</li>
                      <li class="now_depth" onclick="step2();" style="cursor:pointer">데이터 전처리</li>
                      <li class="now_depth" onclick="step3();" style="cursor:pointer">결과비교</li>
                      <li class="now_depth" onclick="step4();" style="cursor:pointer">데이터 재학습 결과</li>
                      <li class="save" onclick="step5();" style="cursor:pointer">데이터 분석 결과</li>
                    </ul>
                  </div>
                  <div class="progress_tab">
                    <div class="tab_item" id="tab-0">  
                      <h3><b>데이터 분석 결과</b> </h3>
                      <div class="row">
                        <div class="col-12 col-md-4 mx-0">
                          <h4 class="center_title">분석 파일 리스트</h4>
                          <div class="table_responsive">
                            <table class="table table-striped table-bordered">
                              <colgroup>
                              </colgroup>
                              <thead>
                                <tr>
                                  <th style="text-align: center;">#</th>
                                  <th style="text-align: center;">파일명</th>
                                  <th style="text-align: center;">등록 일자</th>
                                </tr>
                              </thead>                            
                              <tbody>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div class="col-12 col-md-4 mx-0">
	                      <h4 class="center_title">분석</h4>
                          <canvas id="lineChart1"></canvas>
                          <div class="right_btns">
	                        <button class="btn btn-secondary" type="button"><i class="glyphicon glyphicon-chevron-left"></i>
	                        </button>
	                       </div>
                        </div>
                        <div class="col-12 col-md-4 mx-0">
                      	  <h4 class="center_title">결과</h4>
                          <canvas id="lineChart2"></canvas>
                          <div class="left_btns">
	                        <button class="btn btn-secondary" type="button"><i class="glyphicon glyphicon-chevron-right"></i>
	                        </button>
	                       </div>
                        </div>
                      </div>
                      <div class="right_btns mt-4">
                        <button class="btn btn-primary" onclick="result();">완료</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
                        
{{>layout/footer}}        

<script>
const commonUrl = '/sandbox/common';
const url = '/sandbox/result/objectDetection';

//샌드박스 결과 조회
const sandboxResultsAnalysisResult = function(){
	
	const data = {
	   		url: '/services/sandbox/sandboxes/{{sandbox_id}}/results/{{result_id}}/data-analysis-result/get',
	   		user_id: 'user00',	
	   		menu_id: 'menu_id',	   		
	    };		
	    $.ajax({
	        type: 'POST',
	        url: url+'/sandboxResultsAnalysisResult',
	        dataType: 'json',
	        contentType: 'application/json; charset-utf-8',
	        data: JSON.stringify(data)
	    }).done(function (data) {
	    	  $("#sandboxResultsAnalysisResult").empty();
		  	  if (data != null) {
		  	    	if(data.contents != ""){
			    	    let insertTr = '';
		     	        
				  	    $.each(data.contents, function (idx, el) {
				  	    });
				  	    
	         	   	    $("#sandboxResultsAnalysisResult").append(insertTr);
		  	    	}
		  	  }
	    	  
	    }).fail(function (error) {
	        alert(JSON.stringify(error));
	    });		
}

//조회
sandboxResultsAnalysisResult();

const step1 = function(){
	location.href = url+'/step1/{{sandbox_id}}/{{result_id}}';
}
const step2 = function(){
	location.href = url+'/step2/{{sandbox_id}}/{{result_id}}';
}
const step3 = function(){
	location.href = url+'/step3/{{sandbox_id}}/{{result_id}}';
}
const step4 = function(){
	location.href = url+'/step4/{{sandbox_id}}/{{result_id}}';
}
const step5 = function(){
	location.href = location.href;
}
const result = function(){
	location.href = '/sandbox/sand/analysisSandbox/list';
}
</script>


